(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,n){e.exports=n(244)},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(144),i=n.n(l),o=(n(167),n(168),n(123)),u=n(246),c=n(247),s=n(148),m=n(245),d=n(61),f=(n(169),n(129)),E=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then(function(e){t.error=e}),Promise.reject(t)},g=function(){return Object(f.a)("api/student").then(E)},h=function(e){return r.a.createElement("div",{style:{width:"1500px",margin:"0 auto",padding:"auto"}},e.children)},p=n(44),N=(n(170),function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement(h,null,void 0!==e.numerOfStudents?r.a.createElement(c.a,{size:"large"},e.numerOfStudents):null,r.a.createElement(p.a,{type:"primary",onClick:e.openStudentModel},"Add New Student")))}),b=n(157),y=n(151),S=n(152),v=n(248),F={marginBottom:"10px"},O=Object(b.a)({backgroundColor:"#f50",color:"white"},F),C=function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{initialValues:{firstName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.firstName||(t.firstName="First Name Required"),e.lastName||(t.lastName="Last Name  Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.gender?["MALE","male","FEMALE","Female"].includes(e.gender)||(t.gender="Gender Must be (MALE, male, FEMALE,Female). "):t.gender="Gender  Required",t},onSubmit:function(t,n){var a=n.setSubmitting;(function(e){return Object(f.a)("api/student",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(E)})(t).then(function(){e.onsuccess(),a(!1)}).catch(function(t){e.onFailure(t)}).finally(function(){a(!1)})}},function(e){var t=e.values,n=e.errors,a=e.touched,l=e.handleChange,i=e.handleBlur,o=e.handleSubmit,u=e.isSubmitting,c=e.submitForm,s=e.isValid;return r.a.createElement("form",{onSubmit:o},r.a.createElement(S.a,{style:F,name:"firstName",onChange:l,onBlur:i,value:t.firstName,placeholder:"First Name. E.g John"}),n.firstName&&a.firstName&&r.a.createElement(v.a,{style:O},n.firstName),r.a.createElement(S.a,{style:F,name:"lastName",onChange:l,onBlur:i,value:t.lastName,placeholder:"First Name. E.g bonf"}),n.lastName&&a.lastName&&r.a.createElement(v.a,{style:O},n.lastName),r.a.createElement(S.a,{style:F,name:"email",type:"email",onChange:l,onBlur:i,value:t.email,placeholder:"Email. E.g John@gmail.com"}),n.email&&a.email&&r.a.createElement(v.a,{style:O},n.email),r.a.createElement(S.a,{style:F,name:"gender",type:"gender",onChange:l,onBlur:i,value:t.gender,placeholder:"Gender. E.g MALE or FEMALE"}),n.gender&&a.gender&&r.a.createElement(v.a,{style:O},n.gender),r.a.createElement(p.a,{onClick:c,type:"submit",disabled:u|(a&&!s)},"Submit"))}))},j=n(158),A=function(e,t,n){j.a[e]({message:t,description:n})},k=function(e,t){A("success",e,t)},w=function(e,t){A("error",e,t)};var I=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],l=t[1],i=Object(a.useState)([]),f=Object(o.a)(i,2),E=f[0],p=f[1],b=Object(a.useState)(!1),y=Object(o.a)(b,2),S=y[0],v=y[1],F=function(){v(!0),g().then(function(e){return e.json().then(function(e){p(e),v(!1)})}).catch(function(e){console.log("error response:",e.error),w(e.error.httpStatus,e.error.message),v(!1)})};Object(a.useEffect)(function(){F()},[]);var O=function(){return r.a.createElement(h,null,r.a.createElement(u.a,{title:"Add Student",visible:n,onOk:I,onCancel:I,width:1e3},r.a.createElement(C,{onsuccess:function(){I(),F(),k("Success","Successfuly added student to the database")},onFailure:function(e){console.log("error:",e),w(e.statusText,e.error.message)}})),r.a.createElement(N,{numberOfStudent:E.length,openStudentModel:A}))},j=[{title:"",key:"studentId",render:function(e,t){return r.a.createElement(c.a,{size:"large"},"".concat(t.firstName.charAt(0).toUpperCase()).concat(t.lastName.charAt(0).toUpperCase()))}},{title:"ID",dataIndex:"studentId",key:"studentId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"}],A=function(){l(!0)},I=function(){l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null,S&&r.a.createElement(s.a,{size:"large"}," ")),!S&&E.length>0&&r.a.createElement(h,null,r.a.createElement(m.a,{dataSource:E,columns:j,rowKey:"studentId"}),O()),0===E.length&&r.a.createElement(h,null,r.a.createElement(d.a,{description:r.a.createElement("h1",null,"No Student found")}),O()))},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),l(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null))),L()}},[[160,1,2]]]);
//# sourceMappingURL=main.20a84054.chunk.js.map